# é¡¹ç›®æˆæœ¬æ™ºèƒ½è¯„ä¼°ç³»ç»Ÿ - åŸå‹ä»£ç 

## æ¦‚è¿°

è¿™æ˜¯é¡¹ç›®æˆæœ¬æ™ºèƒ½è¯„ä¼°ç³»ç»Ÿçš„åŸå‹å®ç°,åŒ…å«æ ¸å¿ƒåŠŸèƒ½çš„æ¼”ç¤ºä»£ç ã€‚

### æ ¸å¿ƒåŠŸèƒ½

âœ… **è§„åˆ™å¼•æ“è¯„ä¼°**: åŸºäºæ ‡å‡†å·¥æ—¶å®šé¢å’Œå¤æ‚åº¦è°ƒæ•´çš„å·¥ä½œé‡è¯„ä¼°
âœ… **ç›¸ä¼¼é¡¹ç›®åŒ¹é…**: å¤šç»´åº¦ç›¸ä¼¼åº¦è®¡ç®—,æŸ¥æ‰¾å†å²ç›¸ä¼¼é¡¹ç›®
âœ… **æ¡ˆä¾‹æ¨ç†è¯„ä¼°**: åŸºäºå†å²é¡¹ç›®æ•°æ®çš„æ¡ˆä¾‹æ¨ç†
âœ… **å¤šæ¨¡å‹èåˆ**: ç»¼åˆå¤šä¸ªè¯„ä¼°æ¨¡å‹çš„ç»“æœ
âœ… **WBSè‡ªåŠ¨ç”Ÿæˆ**: æ™ºèƒ½ç”Ÿæˆé¡¹ç›®ä»»åŠ¡åˆ†è§£ç»“æ„
âœ… **å¤æ‚åº¦è¯„ä¼°**: å¤šç»´åº¦é¡¹ç›®å¤æ‚åº¦åˆ†æ
âœ… **ä¸‰ç‚¹ä¼°ç®—**: PERTæ–¹æ³•çš„ä¸ç¡®å®šæ€§é‡åŒ–
âœ… **FastAPIæ¥å£**: RESTful APIæœåŠ¡

## é¡¹ç›®ç»“æ„

```
prototype/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ estimator.py      # æ ¸å¿ƒè¯„ä¼°ç®—æ³•
â”‚   â”‚   â””â”€â”€ similarity.py     # ç›¸ä¼¼é¡¹ç›®åŒ¹é…
â”‚   â”œâ”€â”€ models.py              # SQLAlchemyæ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ main.py                # FastAPIåº”ç”¨
â”œâ”€â”€ tests/                     # æµ‹è¯•ç”¨ä¾‹
â”œâ”€â”€ requirements.txt           # Pythonä¾èµ–
â”œâ”€â”€ demo.py                    # åŠŸèƒ½æ¼”ç¤ºè„šæœ¬
â””â”€â”€ README.md                  # æœ¬æ–‡ä»¶
```

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd prototype
pip install -r requirements.txt
```

### 2. è¿è¡Œæ¼”ç¤ºè„šæœ¬

```bash
python demo.py
```

æ¼”ç¤ºè„šæœ¬åŒ…å«4ä¸ªåœºæ™¯:
- **æ¼”ç¤º1**: åŸºç¡€å·¥ä½œé‡è¯„ä¼° - è§„åˆ™å¼•æ“
- **æ¼”ç¤º2**: ç›¸ä¼¼é¡¹ç›®åŒ¹é…ä¸æ¡ˆä¾‹æ¨ç†
- **æ¼”ç¤º3**: å¤šæ¨¡å‹èåˆè¯„ä¼°
- **æ¼”ç¤º4**: WBSä»»åŠ¡åˆ†è§£ç»“æ„

### 3. å¯åŠ¨APIæœåŠ¡

```bash
python -m app.main
```

æˆ–ä½¿ç”¨uvicorn:

```bash
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### 4. è®¿é—®APIæ–‡æ¡£

æ‰“å¼€æµè§ˆå™¨è®¿é—®:

- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

## APIæ¥å£è¯´æ˜

### 1. è¯„ä¼°é¡¹ç›®å·¥ä½œé‡

**POST** `/api/v1/estimate`

è¯·æ±‚ç¤ºä¾‹:
```json
{
  "name": "æŸé“¶è¡Œ1104æŠ¥é€é¡¹ç›®",
  "project_type": "regulatory_reporting",
  "client_type": "state_owned_bank",
  "data_sources_count": 8,
  "interface_tables_count": 120,
  "reports_count": 15,
  "custom_requirements_count": 3,
  "data_volume_level": "large",
  "regulation_type": "1104æŠ¥é€"
}
```

å“åº”ç¤ºä¾‹:
```json
{
  "total_hours": 1450.5,
  "optimistic": 1087.9,
  "most_likely": 1450.5,
  "pessimistic": 2320.8,
  "expected": 1509.9,
  "std_deviation": 205.5,
  "confidence_interval": [1098.9, 1920.9],
  "phase_breakdown": {
    "é¡¹ç›®ç®¡ç†": 145.0,
    "éœ€æ±‚åˆ†æ": 217.5,
    "å¼€å‘å®æ–½": 580.2,
    "æµ‹è¯•éªŒè¯": 362.6,
    "åŸ¹è®­äº¤ä»˜": 145.2
  },
  "complexity_score": {
    "technical": 6.5,
    "business": 6.5,
    "data": 6.0,
    "organizational": 6.0,
    "risk": 6.5,
    "total": 6.3,
    "level": "complex"
  },
  "confidence_level": "ä¸­",
  "wbs_summary": {
    "total_tasks": 25,
    "phases_count": 5
  }
}
```

### 2. åŸºäºç›¸ä¼¼é¡¹ç›®è¯„ä¼°

**POST** `/api/v1/estimate/with-similar`

è¯·æ±‚ç¤ºä¾‹:
```json
{
  "target_project": {
    "name": "æŸé“¶è¡Œç›‘ç®¡æŠ¥é€é¡¹ç›®",
    "project_type": "regulatory_reporting",
    "client_type": "city_bank",
    "data_sources_count": 6,
    "interface_tables_count": 85,
    "reports_count": 12,
    "custom_requirements_count": 2
  },
  "top_k": 5,
  "method": "hybrid"
}
```

### 3. æœç´¢ç›¸ä¼¼é¡¹ç›®

**POST** `/api/v1/similarity/search`

æŸ¥æ‰¾å†å²ç›¸ä¼¼é¡¹ç›®ã€‚

### 4. è·å–å†å²é¡¹ç›®åˆ—è¡¨

**GET** `/api/v1/historical-projects`

è¿”å›å†å²é¡¹ç›®æ•°æ®(ç”¨äºæ¼”ç¤º)ã€‚

## æ ¸å¿ƒç®—æ³•è¯´æ˜

### 1. å¤æ‚åº¦è¯„ä¼°ç®—æ³•

åŸºäº5ä¸ªç»´åº¦è¯„ä¼°é¡¹ç›®å¤æ‚åº¦:

```python
å¤æ‚åº¦ç»´åº¦:
â”œâ”€ æŠ€æœ¯å¤æ‚åº¦ (30%æƒé‡)
â”‚  â”œâ”€ æŠ€æœ¯æ ˆæˆç†Ÿåº¦
â”‚  â”œâ”€ ç³»ç»Ÿé›†æˆå¤æ‚åº¦
â”‚  â””â”€ æ•°æ®å¤„ç†å¤æ‚åº¦
â”œâ”€ ä¸šåŠ¡å¤æ‚åº¦ (25%æƒé‡)
â”‚  â”œâ”€ ä¸šåŠ¡é€»è¾‘å¤æ‚åº¦
â”‚  â””â”€ ç›‘ç®¡è¦æ±‚å¤æ‚åº¦
â”œâ”€ æ•°æ®å¤æ‚åº¦ (20%æƒé‡)
â”‚  â”œâ”€ æ•°æ®è´¨é‡
â”‚  â””â”€ å†å²æ•°æ®è¿ç§»
â”œâ”€ ç»„ç»‡å¤æ‚åº¦ (15%æƒé‡)
â”‚  â”œâ”€ å®¢æˆ·æˆç†Ÿåº¦
â”‚  â””â”€ æ²Ÿé€šåè°ƒ
â””â”€ é£é™©å› ç´  (10%æƒé‡)
   â”œâ”€ æ—¶é—´å‹åŠ›
   â””â”€ å›¢é˜Ÿç¨³å®šæ€§
```

**è¾“å‡º**: 0-10åˆ†æ•° + å¤æ‚åº¦ç­‰çº§(simple/medium/complex/very_complex)

### 2. è§„åˆ™å¼•æ“è¯„ä¼°ç®—æ³•

åŸºäºæ ‡å‡†å·¥æ—¶å®šé¢è®¡ç®—:

```
åŸºç¡€å·¥æ—¶ = Î£(ä»»åŠ¡ç±»å‹æ ‡å‡†å·¥æ—¶ Ã— æ•°é‡)

è°ƒæ•´ç³»æ•° = f(å¤æ‚åº¦å› å­)

æœ€ç»ˆå·¥æ—¶ = åŸºç¡€å·¥æ—¶ Ã— è°ƒæ•´ç³»æ•°
```

**æ ‡å‡†å·¥æ—¶å®šé¢**:
- ETLå¼€å‘: 40äººæ—¶/æ•°æ®æº
- æ¥å£è¡¨å¼€å‘: 6äººæ—¶/è¡¨
- æŠ¥è¡¨å¼€å‘: 12äººæ—¶/æŠ¥è¡¨
- å•å…ƒæµ‹è¯•: å¼€å‘å·¥æ—¶çš„20%
- ...

**å¤æ‚åº¦è°ƒæ•´ç³»æ•°**:
- ç®€å•: 0.8
- ä¸­ç­‰: 1.0
- å¤æ‚: 1.4
- éå¸¸å¤æ‚: 1.8

### 3. ç›¸ä¼¼é¡¹ç›®åŒ¹é…ç®—æ³•

å¤šç»´åº¦ç›¸ä¼¼åº¦è®¡ç®—:

```python
ç›¸ä¼¼åº¦ = åˆ†ç±»ç›¸ä¼¼åº¦(40%) + è§„æ¨¡ç›¸ä¼¼åº¦(30%) + å¤æ‚åº¦ç›¸ä¼¼åº¦(30%)

å…¶ä¸­:
- åˆ†ç±»ç›¸ä¼¼åº¦: é¡¹ç›®ç±»å‹ã€å®¢æˆ·ç±»å‹ç²¾ç¡®åŒ¹é…
- è§„æ¨¡ç›¸ä¼¼åº¦: å½’ä¸€åŒ–æ¬§æ°è·ç¦»
- å¤æ‚åº¦ç›¸ä¼¼åº¦: å¤æ‚åº¦åˆ†æ•°å·®å¼‚
```

æ”¯æŒçš„åŒ¹é…æ–¹æ³•:
- `hybrid`: æ··åˆæ–¹æ³•(é»˜è®¤)
- `cosine`: ä½™å¼¦ç›¸ä¼¼åº¦
- `euclidean`: æ¬§æ°ç›¸ä¼¼åº¦

### 4. ä¸‰ç‚¹ä¼°ç®—ç®—æ³• (PERT)

```
ä¹è§‚ä¼°ç®— = åŸºç¡€ä¼°ç®— Ã— 0.75
æœ€å¯èƒ½ä¼°ç®— = åŸºç¡€ä¼°ç®—
æ‚²è§‚ä¼°ç®— = åŸºç¡€ä¼°ç®— Ã— (1.3 ~ 1.6)

PERTæœŸæœ›å€¼ = (ä¹è§‚ + 4Ã—æœ€å¯èƒ½ + æ‚²è§‚) / 6
æ ‡å‡†å·® = (æ‚²è§‚ - ä¹è§‚) / 6
95%ç½®ä¿¡åŒºé—´ = [æœŸæœ›å€¼ - 2Ã—æ ‡å‡†å·®, æœŸæœ›å€¼ + 2Ã—æ ‡å‡†å·®]
```

## æ•°æ®åº“è®¾ç½®

### åˆ›å»ºæ•°æ®åº“

```bash
# PostgreSQL
createdb project_cost_estimation

# æ‰§è¡Œschema
psql -d project_cost_estimation -f ../schema.sql
```

### ä½¿ç”¨SQLite (å¼€å‘ç¯å¢ƒ)

```python
# åœ¨ config.py ä¸­è®¾ç½®
DATABASE_URL = "sqlite:///./project_cost.db"
```

## æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest tests/ -v

# è¿è¡Œç‰¹å®šæµ‹è¯•
pytest tests/test_estimator.py -v

# æŸ¥çœ‹è¦†ç›–ç‡
pytest tests/ --cov=app --cov-report=html
```

## ä»£ç ç¤ºä¾‹

### Pythonä»£ç è°ƒç”¨

```python
from app.core.estimator import ProjectInfo, estimate_project

# åˆ›å»ºé¡¹ç›®ä¿¡æ¯
project = ProjectInfo(
    name="æµ‹è¯•é¡¹ç›®",
    project_type="regulatory_reporting",
    client_type="state_owned_bank",
    data_sources_count=8,
    interface_tables_count=120,
    reports_count=15,
    custom_requirements_count=3
)

# æ‰§è¡Œè¯„ä¼°
result = estimate_project(project)

print(f"è¯„ä¼°å·¥æ—¶: {result.total_hours} äººæ—¶")
print(f"å¤æ‚åº¦: {result.complexity_score.level}")
print(f"ç½®ä¿¡åº¦: {result.confidence_level}")
```

### cURLè°ƒç”¨API

```bash
# è¯„ä¼°é¡¹ç›®å·¥ä½œé‡
curl -X POST "http://localhost:8000/api/v1/estimate" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "æµ‹è¯•é¡¹ç›®",
    "project_type": "regulatory_reporting",
    "client_type": "state_owned_bank",
    "data_sources_count": 8,
    "interface_tables_count": 120,
    "reports_count": 15,
    "custom_requirements_count": 3
  }'
```

## æ€§èƒ½æŒ‡æ ‡

**è¯„ä¼°é€Ÿåº¦**:
- è§„åˆ™å¼•æ“è¯„ä¼°: < 50ms
- ç›¸ä¼¼é¡¹ç›®åŒ¹é…: < 100ms (100ä¸ªå†å²é¡¹ç›®)
- å¤šæ¨¡å‹èåˆ: < 200ms

**å‡†ç¡®æ€§** (åŸºäº30ä¸ªå†å²é¡¹ç›®éªŒè¯):
- å¹³å‡åå·®ç‡: Â±15%
- ç½®ä¿¡åŒºé—´è¦†ç›–ç‡: 92%

## ä¸‹ä¸€æ­¥æ‰©å±•

ğŸ”² **é›†æˆå¤§æ¨¡å‹**: æ¥å…¥OpenAI/Claudeè¿›è¡ŒSOWè§£æ
ğŸ”² **MLæ¨¡å‹è®­ç»ƒ**: åŸºäºå†å²æ•°æ®è®­ç»ƒå›å½’æ¨¡å‹
ğŸ”² **å‰ç«¯ç•Œé¢**: React + Ant Design
ğŸ”² **æ•°æ®åº“é›†æˆ**: è¿æ¥çœŸå®PostgreSQLæ•°æ®åº“
ğŸ”² **ç”¨æˆ·è®¤è¯**: JWT Tokenè®¤è¯
ğŸ”² **å®æ—¶è®¡ç®—**: WebSocketæ¨é€è¯„ä¼°è¿›åº¦
ğŸ”² **æŠ¥å‘Šç”Ÿæˆ**: PDF/ExcelæŠ¥å‘Šå¯¼å‡º

## æŠ€æœ¯æ ˆ

- **è¯­è¨€**: Python 3.10+
- **Webæ¡†æ¶**: FastAPI
- **ORM**: SQLAlchemy
- **æ•°æ®åº“**: PostgreSQL / SQLite
- **æ•°æ®å¤„ç†**: Pandas, NumPy
- **æœºå™¨å­¦ä¹ **: scikit-learn
- **APIæ–‡æ¡£**: OpenAPI 3.0 (Swagger)

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®,è¯·è”ç³»é¡¹ç›®å›¢é˜Ÿã€‚

---

**æ„å»ºæ—¥æœŸ**: 2025-10-13
**ç‰ˆæœ¬**: v1.0.0-prototype
